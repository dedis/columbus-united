<!-- index.html -->
<html>
    <head>
        <meta charset="UTF-8" />

        <script src="dist/bundle.min.js" type="text/javascript"></script>

        <link href="https://css.gg/css" rel="stylesheet" />

        <link rel="icon" href="icon.png" />

        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        />
        <style>
            /* 1. You define the CSS class like this:  */

            .custom__color path {
                color: white;
            }
        </style>
    </head>

    <body>
        <div class="header">
            <a href="http://127.0.0.1:5500/index.html">
                <img src="assets/logo color small.png" alt="logo" />
            </a>
            <button class="uk-button uk-button-default" type="button">
                About
            </button>
            <div uk-dropdown class="description">
                The project Columbus is a project aiming to facilitate the
                visualization of the blockchain of ByzCoin. <br />
                You can navigate through the different blocks by dragging right
                or left. You can have more details about one block by clicking
                on it and select a transaction. You will see all instructions
                with their respective type (spawn, invoke or delete) of each
                instruction. <br />
                A button is there to browse the whole blockchain in order to
                find the evolution of this instance throughout the blockchain.
                The evolution will be displayed on the bottom right.
            </div>
            <div id="status-info">
                <!--<div class="info">
            <div class="loader-wrapper">
                <svg class="spinner" viewBox="0 0 50 50">
                <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                </svg>
            </div>
            <div class="info-message">This is a message</div>
            </div>-->
                <div class="info">
                    <div class="info-message">
                        blocks loaded: <span id="loaded-blocks"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="searchbar-container">
            <div class="topnav">
                <!-- onclick="getInputValue();" -->
                <input
                    id="search-input"
                    type="text"
                    placeholder=" Search by block / hash / transaction "
                />
            </div>
        </div>

        <div class="blocks-container">
            <svg id="svg-container"></svg>
            <svg id="last-container"></svg>
        </div>
        <div class="block-infos">
            <div class="block-detail-container"></div>
            <div class="browse-container"></div>
        </div>

        <div class="query-answer"></div>

        <footer>
            <span>Â© DEDIS 2018 - by Anthony Iozzia and Julien von Felten</span>
            <span> v.1.0.11</span>
            <a href="https://github.com/dedis/columbus-united"
                >github repository</a
            >
        </footer>
    </body>
    <script>
        jsapp.sayHi();

        function getInputValue() {
            // Selecting the input element and get its value
            var inputVal = document.getElementById("search-input").value;
        }

        //   let searchInput = document.getElementById("search-input");
        //   Rx.Observable.fromEvent(searchInput, 'input')
        //     .pluck('target', 'value')
        //     .debounceTime(500)
        //     .distinctUntilChanged()
        //     .switchMap(searchKey => Rx.Observable.ajax(`https://api.crossref.org/works?rows=50&query.author=${searchKey}`)
        //       .map(resp => ({
        //           "status" : resp["status"] == 200,
        //           "details" : resp["status"] == 200 ? resp["response"] : [],
        //           "result_hash": Date.now()
        //         })
        //       )
        //     )
        //     .filter(resp => resp.status !== false)
        //     .distinctUntilChanged((a, b) => a.result_hash === b.result_hash)
        //     .subscribe(resp => console.log(resp.details));
    </script>
</html>
